<%- include('zHeader') %>

    <script language="javascript">
        function confirmAgain() {
            return window.confirm("确认执行【添加新生产项目】操作?");
        }
        function ValidateValue(textbox) {
            var IllegalString = "[`~!#$^&=|{}':;',\\[\\]<>/?~！#￥……&——|{}‘；：”“'。，、？@ ]‘’";
            var textboxvalue = textbox.value;
            var index = textboxvalue.length - 1;

            var s = textbox.value.charAt(index);

            if (IllegalString.indexOf(s) >= 0) {
                s = textboxvalue.substring(0, index);
                textbox.value = s;
            }

        }



    </script>

<body>


<section class="functionBoard">
    <%- include('zMenu') %>

    <div class="functionBoard right">
        <main role="main" class="container mt-3 mb-3">
            <header role="banner">
                <div class="headcontainer">
                    <div id="pageTitle" class="page-title">
                        生产管理
                    </div>
                    <span class="page-title" style="position: absolute;padding-top: 45px;margin-left: 5px;flex:0 1 auto;font-weight: normal; font-size: 0.8rem">欢迎您，</span><span id="role" class="page-title" style="position: absolute;margin-left: 55px; padding-top: 45px;flex:0 1 auto;font-weight: normal; font-size: 0.8rem"><%= user.role %></span><span class="page-title" style="padding-top: 45px;position: absolute;margin-left: 120px;flex:0 1 auto;font-weight: normal; font-size: 0.8rem">&emsp;<%= user.userName %></span>
                </div>
            </header>

            <form onsubmit="return confirmAgain()" method="post">
                <div class="itemDetailsPage">
                    <div class="itemDetail">创建新生产项目：</div>
                    <div class="itemDetail">名称<a style="color: red; font-size: x-large">*</a>：<input name="projectName" class="itemDetailsInput addItemInfo"  style="width: 500px" placeholder="请输入生产项目名称" required onkeyup="ValidateValue(this)"></div>
                    <div class="itemDetail">负责人: <a style="color: red; font-size: x-large">*</a>：<select class="itemDetailsInput addItemInfo" name="projectManager"  required="required" style="height: 35px;width: 130px;color:black;" onkeyup="ValidateValue(this)">
                            <% for(let i = 0; i < users.length; i++) { %>
                                <option value="<%= users[i].userName %>"><%= users[i].userName %></option>
                            <% } %>
                        </select>
                    </div>
                    <div class="itemDetail" >开始时间<a style="color: red; font-size: x-large">*</a>：<input class="itemDetailsInput addItemInfo" type="date" name="projectStartDate" style="height: 35px;width: 35%" required></div>
                    <div class="itemDetail" >结束时间<a style="color: red; font-size: x-large">*</a>：<input class="itemDetailsInput addItemInfo" type="date" name="projectFinishDate" style="height: 35px;width: 35%"></div>
                    <div class="itemDetail">项目描述：</div><textarea type="text" name="projectDesc" class="itemDetailsInput addItemInfo" rows="14" style="width: 570px;resize: none" ></textarea>
                </div>
                <button class="btn btn-block btn-submit button button--primary smaller" type="submit" id="confirmButton" style=" height: 50px;width: 555px;background-color: #00cb46!important;margin-top: 15px; margin-left: 30px">
                    创建新生产项目
                </button>
            </form>
        </main>
    </div>
</section>


<%- include('zFooter') %>
</body>
</html>