<%- include('zHeader') %>

    <script language="javascript">
        function joinedDateDisplay(judgeId,judge){
            if(document.getElementById(judgeId).innerText===judge){
                document.getElementById(judgeId).innerText='未确认';
                document.getElementById(judgeId).style.color='orange';
            }
        }

        function stateDisplay(judgeId,judge,ojId){
            if(document.getElementById(judgeId).innerText===judge){
                document.getElementById(ojId).style.display='';
                document.getElementById(judgeId).style.color='gray';
            }
        }






    </script>

</head>
<body >


<section class="functionBoard">

    <%- include('zMenu') %>

    <div class="functionBoard right">
        <main role="main" class="container mt-3 mb-3">

            <header role="banner">
                <div class="headcontainer">
                    <div id="pageTitle" class="page-title">
                        权限管理
                    </div>
                    <span class="page-title" style="position: absolute;padding-top: 45px;margin-left: 5px;flex:0 1 auto;font-weight: normal; font-size: 0.8rem">欢迎您，</span><span id="role" class="page-title" style="position: absolute;margin-left: 55px; padding-top: 45px;flex:0 1 auto;font-weight: normal; font-size: 0.8rem"><%=user.role%></span><span class="page-title" style="padding-top: 45px;position: absolute;margin-left: 120px;flex:0 1 auto;font-weight: normal; font-size: 0.8rem">&emsp;<%=user.userName%></span>
                </div>
            </header>

            <form method="post">

                <div class="pageCard" >
                    <div  style="margin-left: 30px;color: #0050fa; font-weight: bold; font-size: small; margin-top: 10px ">人数：<%=userList.length%></div>

                    <%for(let i = 0 ; i < userList.length ; i++) { %>
                    <table class="noteButton" style=";width: 100%;font-size: 1rem;height: 100%" cellpadding="0" cellspacing="0">
                        <tr >
                            <td style="width: 87%;">
                                <button class="noteButton" style="padding-left: 80px;" type="button" onclick="location.href='/adUser?userId=<%=userList[i].userId%>'">
                                    <div  style= "font-size: 0.7rem; height: 30px; ">
                                        <span class="itemInfo" style="margin-left: -50px;color: #0050fa;   ">#<%=i+1%></span>
                                        <span class="itemInfo" >姓名：<a style="font-weight: bold;color: #0050fa;"><%=userList[i].userName%></a></span>
                                        <span class="itemInfo" style="margin-left: 150px">工号：<a id='orderState<%=i%>' style="font-weight:normal;color: #0050fa; "><%=userList[i].userId%></a></span>
                                        <span class="itemInfo" style="margin-left: 320px">系统角色：<a style="font-weight:normal;color: #0050fa; "><%=userList[i].role%></a></span>
                                        <span class="itemInfo" id="comingDate<%=i%>" style="margin-left: 490px">职务状态：<span id="state<%=i%>" style="font-weight:bold;color: green; "><%=userList[i].state%><span style="display: none" id="departureDate<%=i%>">（<%=userList[i].departureDate.getFullYear()%>-<%=userList[i].departureDate.getMonth()+1%>-<%=userList[i].departureDate.getDate()%>）</span></span></span>
                                        <style onload="stateDisplay('state<%=i%>','离职','departureDate<%=i%>')"></style>
                                    </div>
                                    <div  style= "font-size: 0.7rem; height: 30px; ">
                                        <span class="itemInfo" >岗位：<a style="font-weight: normal;color: #0050fa;"><%=userList[i].post%></a></span>
                                        <span class="itemInfo" style="margin-left: 150px" >入职日期：<a id="joinedDate<%=i%>" style="font-weight: normal;color: #0050fa;"><%=userList[i].joinedDate.getFullYear()%>-<%=userList[i].joinedDate.getMonth()+1%>-<%=userList[i].joinedDate.getDate()%></a></span>
                                        <style onload="joinedDateDisplay('joinedDate<%=i%>','2001-1-1')"></style>
                                        <span class="itemInfo" style="margin-left: 320px">联系方式：<a style="font-weight:normal;color: #0050fa; "><%=userList[i].contact%></a></span>
                                    </div>


                                </button>
                            </td>

                        </tr>
                    </table>

                    <% } %>


                </div>
            </form>




        </main>
    </div>
</section>




<%- include('zFooter') %>
</body>
</html>